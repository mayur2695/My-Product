/*
* @author: Debiprasad
* @testClassName: GYNC_SyncRecord_Test
* @apexClass: GYNC_SyncRecord
* @description: This class is to test the logic of the apex class
* @version: V1
* @createdDate: 22nd Jun 2020
*/
@isTest(SeeAllData=false)
public class GYNC_SyncRecord_Test {
    @testSetup static void setup(){
        GYNC_TestUtility.createUser();
        GYNCS_AuthorizationSetting__c sysId = GYNC_TestUtility.createAuthorizationSetting('Default',true);
        string sysmId = string.valueOf(sysId.Id);
        string ServiceURL = 'http://ec2-18-215-72-123.compute-1.amazonaws.com:8080/sap/opu/odata/GCONNECT/SF_CUSTOMER_SRV/CUSTOMERSet';
        string FieldMapping =  '';
        if(UserInfo.isMultiCurrencyOrganization()) {
            FieldMapping = '[{"sapField":"Category","SFDCField":"{\\\"sfdcFieldType\\\":\\\"STRING\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"GYNCF_Category__c\\\"}"},{"sapField":"CreationDate","SFDCField":"{\\\"sfdcFieldType\\\":\\\"DATE\\\",\\\"relatedTo\\\":\\\"Quote\\\",\\\"fieldValue\\\":\\\"EffectiveDate\\\"}"},{"sapField":"CreationDate","SFDCField":"{\\\"sfdcFieldType\\\":\\\"DATE\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"GYNCF_SAPCreationDate__c\\\"}"},{"sapField":"BillTo","SFDCField":"{\\\"sfdcFieldType\\\":\\\"STRING\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"GYNCF_BillTo__c\\\"}"},{"sapField":"BillToName","SFDCField":"{\\\"sfdcFieldType\\\":\\\"STRING\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"GYNCF_BillToName__c\\\"}"},{"sapField":"DocumentType","SFDCField":"{\\\"sfdcFieldType\\\":\\\"STRING\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"GYNCF_DocumentType__c\\\"}"},{"sapField":"BillingStatus","SFDCField":"{\\\"sfdcFieldType\\\":\\\"STRING\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"GYNCF_BillingStatus__c\\\"}"},{"sapField":"DeliveryStatus","SFDCField":"{\\\"sfdcFieldType\\\":\\\"STRING\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"GYNCF_DeliveryStatus__c\\\"}"},{"sapField":"DocumentStatus","SFDCField":"{\\\"sfdcFieldType\\\":\\\"STRING\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"GYNCF_DocumentStatus__c\\\"}"},{"sapField":"CustomerReference","SFDCField":"{\\\"sfdcFieldType\\\":\\\"STRING\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"PoNumber\\\"}"},{"sapField":"CustomerReferenceDate","SFDCField":"{\\\"sfdcFieldType\\\":\\\"DATE\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"PoDate\\\"}","SFDCType":"Date"},{"sapField":"ReferenceDocument","SFDCField":"{\\\"sfdcFieldType\\\":\\\"STRING\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"OrderReferenceNumber\\\"}"},{"sapField":"RequestedDeliveryDate","SFDCField":"{\\\"sfdcFieldType\\\":\\\"DATE\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"GYNCF_RequestedDeliveryDate__c\\\"}","SFDCType":"Date"},{"sapField":"PaymentTerms","SFDCField":"{\\\"sfdcFieldType\\\":\\\"STRING\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"GYNCF_PaymentTerms__c\\\"}"},{"sapField":"SalesOrganization","SFDCField":"{\\\"sfdcFieldType\\\":\\\"STRING\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"GYNCF_SalesOrganization__c\\\"}"},{"sapField":"DistributionChannel","SFDCField":"{\\\"sfdcFieldType\\\":\\\"STRING\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"GYNCF_DistributionChannel__c\\\"}"},{"sapField":"Division","SFDCField":"{\\\"sfdcFieldType\\\":\\\"STRING\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"GYNCF_Division__c\\\"}"},{"sapField":"Currency","SFDCField":"{\\\"sfdcFieldType\\\":\\\"PICKLIST\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"CurrencyIsoCode\\\"}"},{"sapField":"MaterialDescription","SFDCField":"{\\\"sfdcFieldType\\\":\\\"STRING\\\",\\\"relatedTo\\\":\\\"QuoteLineItem\\\",\\\"fieldValue\\\":\\\"OrderItem.Description\\\"}"},{"sapField":"SoldTo","SFDCField":"{\\\"sfdcFieldType\\\":\\\"REFERENCE\\\",\\\"relatedTo\\\":\\\"Account\\\",\\\"fieldValue\\\":\\\"AccountId\\\"}","Type":"","RelatedTo":""},{"sapField":"SalesDocumentItem","SFDCField":"{\\\"sfdcFieldType\\\":\\\"STRING\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"OrderItem.GYNCF_SalesDocumentItem__c\\\"}"},{"sapField":"OrderQuantity","SFDCField":"{\\\"sfdcFieldType\\\":\\\"DOUBLE\\\",\\\"relatedTo\\\":\\\"QuoteLineItem\\\",\\\"fieldValue\\\":\\\"OrderItem.Quantity\\\"}"},{"sapField":"Material","SFDCField":"{\\\"sfdcFieldType\\\":\\\"REFERENCE\\\",\\\"relatedTo\\\":\\\"PricebookEntry\\\",\\\"fieldValue\\\":\\\"OrderItem.PricebookEntryId\\\"}"},{"sapField":"Plant","SFDCField":"{\\\"sfdcFieldType\\\":\\\"STRING\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"OrderItem.GYNCF_Plant__c\\\"}"},{"sapField":"StorageLocation","SFDCField":"{\\\"sfdcFieldType\\\":\\\"STRING\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"OrderItem.GYNCF_StorageLocation__c\\\"}"},{"sapField":"CustomerMaterial","SFDCField":"{\\\"sfdcFieldType\\\":\\\"STRING\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"OrderItem.GYNCF_CustomerMaterial__c\\\"}"},{"sapField":"UnitOfMeasure","SFDCField":"{\\\"sfdcFieldType\\\":\\\"STRING\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"OrderItem.GYNCF_UnitOfMeasure__c\\\"}"},{"sapField":"SalesDocument","SFDCField":"{\\\"sfdcFieldType\\\":\\\"STRING\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"GYNCF_Salesorder__c\\\"}"},{"sapField":"TotalTax","SFDCField":"{\\\"sfdcFieldType\\\":\\\"DOUBLE\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"GYNCF_TotalTax__c\\\"}"},{"sapField":"TotalFreight","SFDCField":"{\\\"sfdcFieldType\\\":\\\"DOUBLE\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"GYNCF_TotalFreight__c\\\"}"},{"sapField":"ItemTax","SFDCField":"{\\\"sfdcFieldType\\\":\\\"DOUBLE\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"OrderItem.GYNCF_ItemTax__c\\\"}"},{"sapField":"ItemFreight","SFDCField":"{\\\"sfdcFieldType\\\":\\\"DOUBLE\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"OrderItem.GYNCF_ItemFreight__c\\\"}"},{"sapField":"ShipTo","SFDCField":"{\\\"sfdcFieldType\\\":\\\"STRING\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"GYNCF_ShipTo__c\\\"}"},{"sapField":"ShipToName","SFDCField":"{\\\"sfdcFieldType\\\":\\\"STRING\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"GYNCF_ShipToName__c\\\"}"},{"sapField":"Channel","SFDCField":"{\\\"sfdcFieldType\\\":\\\"STRING\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"GYNCF_Channel__c\\\"}"},{"sapField":"ItemNetPrice","SFDCField":"{\\\"sfdcFieldType\\\":\\\"CURRENCY\\\",\\\"relatedTo\\\":\\\"QuoteLineItem\\\",\\\"fieldValue\\\":\\\"OrderItem.UnitPrice\\\"}"}]';
        
        }
        else {
            FieldMapping = '[{"sapField":"Category","SFDCField":"{\\\"sfdcFieldType\\\":\\\"STRING\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"GYNCF_Category__c\\\"}"},{"sapField":"CreationDate","SFDCField":"{\\\"sfdcFieldType\\\":\\\"DATE\\\",\\\"relatedTo\\\":\\\"Quote\\\",\\\"fieldValue\\\":\\\"EffectiveDate\\\"}"},{"sapField":"CreationDate","SFDCField":"{\\\"sfdcFieldType\\\":\\\"DATE\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"GYNCF_SAPCreationDate__c\\\"}"},{"sapField":"BillTo","SFDCField":"{\\\"sfdcFieldType\\\":\\\"STRING\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"GYNCF_BillTo__c\\\"}"},{"sapField":"BillToName","SFDCField":"{\\\"sfdcFieldType\\\":\\\"STRING\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"GYNCF_BillToName__c\\\"}"},{"sapField":"DocumentType","SFDCField":"{\\\"sfdcFieldType\\\":\\\"STRING\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"GYNCF_DocumentType__c\\\"}"},{"sapField":"BillingStatus","SFDCField":"{\\\"sfdcFieldType\\\":\\\"STRING\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"GYNCF_BillingStatus__c\\\"}"},{"sapField":"DeliveryStatus","SFDCField":"{\\\"sfdcFieldType\\\":\\\"STRING\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"GYNCF_DeliveryStatus__c\\\"}"},{"sapField":"DocumentStatus","SFDCField":"{\\\"sfdcFieldType\\\":\\\"STRING\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"GYNCF_DocumentStatus__c\\\"}"},{"sapField":"CustomerReference","SFDCField":"{\\\"sfdcFieldType\\\":\\\"STRING\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"PoNumber\\\"}"},{"sapField":"CustomerReferenceDate","SFDCField":"{\\\"sfdcFieldType\\\":\\\"DATE\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"PoDate\\\"}","SFDCType":"Date"},{"sapField":"ReferenceDocument","SFDCField":"{\\\"sfdcFieldType\\\":\\\"STRING\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"OrderReferenceNumber\\\"}"},{"sapField":"RequestedDeliveryDate","SFDCField":"{\\\"sfdcFieldType\\\":\\\"DATE\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"GYNCF_RequestedDeliveryDate__c\\\"}","SFDCType":"Date"},{"sapField":"PaymentTerms","SFDCField":"{\\\"sfdcFieldType\\\":\\\"STRING\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"GYNCF_PaymentTerms__c\\\"}"},{"sapField":"SalesOrganization","SFDCField":"{\\\"sfdcFieldType\\\":\\\"STRING\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"GYNCF_SalesOrganization__c\\\"}"},{"sapField":"DistributionChannel","SFDCField":"{\\\"sfdcFieldType\\\":\\\"STRING\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"GYNCF_DistributionChannel__c\\\"}"},{"sapField":"Division","SFDCField":"{\\\"sfdcFieldType\\\":\\\"STRING\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"GYNCF_Division__c\\\"}"},{"sapField":"MaterialDescription","SFDCField":"{\\\"sfdcFieldType\\\":\\\"STRING\\\",\\\"relatedTo\\\":\\\"QuoteLineItem\\\",\\\"fieldValue\\\":\\\"OrderItem.Description\\\"}"},{"sapField":"SoldTo","SFDCField":"{\\\"sfdcFieldType\\\":\\\"REFERENCE\\\",\\\"relatedTo\\\":\\\"Account\\\",\\\"fieldValue\\\":\\\"AccountId\\\"}","Type":"","RelatedTo":""},{"sapField":"SalesDocumentItem","SFDCField":"{\\\"sfdcFieldType\\\":\\\"STRING\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"OrderItem.GYNCF_SalesDocumentItem__c\\\"}"},{"sapField":"OrderQuantity","SFDCField":"{\\\"sfdcFieldType\\\":\\\"DOUBLE\\\",\\\"relatedTo\\\":\\\"QuoteLineItem\\\",\\\"fieldValue\\\":\\\"OrderItem.Quantity\\\"}"},{"sapField":"Material","SFDCField":"{\\\"sfdcFieldType\\\":\\\"REFERENCE\\\",\\\"relatedTo\\\":\\\"PricebookEntry\\\",\\\"fieldValue\\\":\\\"OrderItem.PricebookEntryId\\\"}"},{"sapField":"Plant","SFDCField":"{\\\"sfdcFieldType\\\":\\\"STRING\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"OrderItem.GYNCF_Plant__c\\\"}"},{"sapField":"StorageLocation","SFDCField":"{\\\"sfdcFieldType\\\":\\\"STRING\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"OrderItem.GYNCF_StorageLocation__c\\\"}"},{"sapField":"CustomerMaterial","SFDCField":"{\\\"sfdcFieldType\\\":\\\"STRING\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"OrderItem.GYNCF_CustomerMaterial__c\\\"}"},{"sapField":"UnitOfMeasure","SFDCField":"{\\\"sfdcFieldType\\\":\\\"STRING\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"OrderItem.GYNCF_UnitOfMeasure__c\\\"}"},{"sapField":"SalesDocument","SFDCField":"{\\\"sfdcFieldType\\\":\\\"STRING\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"GYNCF_Salesorder__c\\\"}"},{"sapField":"TotalTax","SFDCField":"{\\\"sfdcFieldType\\\":\\\"DOUBLE\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"GYNCF_TotalTax__c\\\"}"},{"sapField":"TotalFreight","SFDCField":"{\\\"sfdcFieldType\\\":\\\"DOUBLE\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"GYNCF_TotalFreight__c\\\"}"},{"sapField":"ItemTax","SFDCField":"{\\\"sfdcFieldType\\\":\\\"DOUBLE\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"OrderItem.GYNCF_ItemTax__c\\\"}"},{"sapField":"ItemFreight","SFDCField":"{\\\"sfdcFieldType\\\":\\\"DOUBLE\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"OrderItem.GYNCF_ItemFreight__c\\\"}"},{"sapField":"ShipTo","SFDCField":"{\\\"sfdcFieldType\\\":\\\"STRING\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"GYNCF_ShipTo__c\\\"}"},{"sapField":"ShipToName","SFDCField":"{\\\"sfdcFieldType\\\":\\\"STRING\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"GYNCF_ShipToName__c\\\"}"},{"sapField":"Channel","SFDCField":"{\\\"sfdcFieldType\\\":\\\"STRING\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"GYNCF_Channel__c\\\"}"},{"sapField":"ItemNetPrice","SFDCField":"{\\\"sfdcFieldType\\\":\\\"CURRENCY\\\",\\\"relatedTo\\\":\\\"QuoteLineItem\\\",\\\"fieldValue\\\":\\\"OrderItem.UnitPrice\\\"}"}]';
        }
        //'[{"sapField":"Category","SFDCField":"{\\\"sfdcFieldType\\\":\\\"STRING\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"GYNCF_Category__c\\\"}"},{"sapField":"CreationDate","SFDCField":"{\\\"sfdcFieldType\\\":\\\"DATE\\\",\\\"relatedTo\\\":\\\"Quote\\\",\\\"fieldValue\\\":\\\"EffectiveDate\\\"}"},{"sapField":"CreationDate","SFDCField":"{\\\"sfdcFieldType\\\":\\\"DATE\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"GYNCF_SAPCreationDate__c\\\"}"},{"sapField":"BillTo","SFDCField":"{\\\"sfdcFieldType\\\":\\\"STRING\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"GYNCF_BillTo__c\\\"}"},{"sapField":"BillToName","SFDCField":"{\\\"sfdcFieldType\\\":\\\"STRING\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"GYNCF_BillToName__c\\\"}"},{"sapField":"DocumentType","SFDCField":"{\\\"sfdcFieldType\\\":\\\"STRING\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"GYNCF_DocumentType__c\\\"}"},{"sapField":"BillingStatus","SFDCField":"{\\\"sfdcFieldType\\\":\\\"STRING\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"GYNCF_BillingStatus__c\\\"}"},{"sapField":"DeliveryStatus","SFDCField":"{\\\"sfdcFieldType\\\":\\\"STRING\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"GYNCF_DeliveryStatus__c\\\"}"},{"sapField":"DocumentStatus","SFDCField":"{\\\"sfdcFieldType\\\":\\\"STRING\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"GYNCF_DocumentStatus__c\\\"}"},{"sapField":"CustomerReference","SFDCField":"{\\\"sfdcFieldType\\\":\\\"STRING\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"PoNumber\\\"}"},{"sapField":"CustomerReferenceDate","SFDCField":"{\\\"sfdcFieldType\\\":\\\"DATE\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"PoDate\\\"}","SFDCType":"Date"},{"sapField":"ReferenceDocument","SFDCField":"{\\\"sfdcFieldType\\\":\\\"STRING\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"OrderReferenceNumber\\\"}"},{"sapField":"RequestedDeliveryDate","SFDCField":"{\\\"sfdcFieldType\\\":\\\"DATE\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"GYNCF_RequestedDeliveryDate__c\\\"}","SFDCType":"Date"},{"sapField":"PaymentTerms","SFDCField":"{\\\"sfdcFieldType\\\":\\\"STRING\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"GYNCF_PaymentTerms__c\\\"}"},{"sapField":"SalesOrganization","SFDCField":"{\\\"sfdcFieldType\\\":\\\"STRING\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"GYNCF_SalesOrganization__c\\\"}"},{"sapField":"DistributionChannel","SFDCField":"{\\\"sfdcFieldType\\\":\\\"STRING\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"GYNCF_DistributionChannel__c\\\"}"},{"sapField":"Division","SFDCField":"{\\\"sfdcFieldType\\\":\\\"STRING\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"GYNCF_Division__c\\\"}"},{"sapField":"Currency","SFDCField":"{\\\"sfdcFieldType\\\":\\\"PICKLIST\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"CurrencyIsoCode\\\"}"},{"sapField":"MaterialDescription","SFDCField":"{\\\"sfdcFieldType\\\":\\\"STRING\\\",\\\"relatedTo\\\":\\\"QuoteLineItem\\\",\\\"fieldValue\\\":\\\"OrderItem.Description\\\"}"},{"sapField":"SoldTo","SFDCField":"{\\\"sfdcFieldType\\\":\\\"REFERENCE\\\",\\\"relatedTo\\\":\\\"Account\\\",\\\"fieldValue\\\":\\\"AccountId\\\"}","Type":"","RelatedTo":""},{"sapField":"SalesDocumentItem","SFDCField":"{\\\"sfdcFieldType\\\":\\\"STRING\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"OrderItem.GYNCF_SalesDocumentItem__c\\\"}"},{"sapField":"ItemCost","SFDCField":"{\\\"sfdcFieldType\\\":\\\"CURRENCY\\\",\\\"relatedTo\\\":\\\"QuoteLineItem\\\",\\\"fieldValue\\\":\\\"OrderItem.UnitPrice\\\"}"},{"sapField":"OrderQuantity","SFDCField":"{\\\"sfdcFieldType\\\":\\\"DOUBLE\\\",\\\"relatedTo\\\":\\\"QuoteLineItem\\\",\\\"fieldValue\\\":\\\"OrderItem.Quantity\\\"}"},{"sapField":"Material","SFDCField":"{\\\"sfdcFieldType\\\":\\\"REFERENCE\\\",\\\"relatedTo\\\":\\\"PricebookEntry\\\",\\\"fieldValue\\\":\\\"OrderItem.PricebookEntryId\\\"}"},{"sapField":"Plant","SFDCField":"{\\\"sfdcFieldType\\\":\\\"STRING\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"OrderItem.GYNCF_Plant__c\\\"}"},{"sapField":"StorageLocation","SFDCField":"{\\\"sfdcFieldType\\\":\\\"STRING\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"OrderItem.GYNCF_StorageLocation__c\\\"}"},{"sapField":"CustomerMaterial","SFDCField":"{\\\"sfdcFieldType\\\":\\\"STRING\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"OrderItem.GYNCF_CustomerMaterial__c\\\"}"},{"sapField":"UnitOfMeasure","SFDCField":"{\\\"sfdcFieldType\\\":\\\"STRING\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"OrderItem.GYNCF_UnitOfMeasure__c\\\"}"},{"sapField":"SalesDocument","SFDCField":"{\\\"sfdcFieldType\\\":\\\"STRING\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"GYNCF_Salesorder__c\\\"}"},{"sapField":"TotalTax","SFDCField":"{\\\"sfdcFieldType\\\":\\\"DOUBLE\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"GYNCF_TotalTax__c\\\"}"},{"sapField":"TotalFreight","SFDCField":"{\\\"sfdcFieldType\\\":\\\"DOUBLE\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"GYNCF_TotalFreight__c\\\"}"},{"sapField":"ItemTax","SFDCField":"{\\\"sfdcFieldType\\\":\\\"DOUBLE\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"OrderItem.GYNCF_ItemTax__c\\\"}"},{"sapField":"ItemFreight","SFDCField":"{\\\"sfdcFieldType\\\":\\\"DOUBLE\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"OrderItem.GYNCF_ItemFreight__c\\\"}"},{"sapField":"ShipTo","SFDCField":"{\\\"sfdcFieldType\\\":\\\"STRING\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"GYNCF_ShipTo__c\\\"}"},{"sapField":"ShipToName","SFDCField":"{\\\"sfdcFieldType\\\":\\\"STRING\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"GYNCF_ShipToName__c\\\"}"},{"sapField":"Channel","SFDCField":"{\\\"sfdcFieldType\\\":\\\"STRING\\\",\\\"relatedTo\\\":\\\"User\\\",\\\"fieldValue\\\":\\\"GYNCF_Channel__c\\\"}"},{"sapField":"ItemNetPrice","SFDCField":"{\\\"sfdcFieldType\\\":\\\"CURRENCY\\\",\\\"relatedTo\\\":\\\"QuoteLineItem\\\",\\\"fieldValue\\\":\\\"OrderItem.UnitPrice\\\"}"}]';
        string Filters = '[{"configApiName": "GYNCF_Billing_End_Date__c","sapApiName": "BillingDate"},{"configApiName": "GYNCF_Billing_Start_Date__c","sapApiName": "BillingDate"},{"configApiName": "GYNCF_Date_Range_From__c","sapApiName": "CreationDate"},{"configApiName": "GYNCF_Date_Range_To__c","sapApiName": "CreationDate"},{"configApiName": "GYNCF_Archived__c","sapApiName": "DeletionIndicator","type": "Boolean"},{"configApiName": "Sync_Only_DELTA__c","sapApiName": "Delta","type": "DeltaSync"},{"configApiName": "GYNCF_Last_Synced__c","sapApiName": "Lastrundate","type": "DeltaSync"},{"configApiName": "GYNCF_Sales_Org__c","sapApiName": "SalesOrganization"},{"configApiName": "GYNCF_Billing_Type__c","sapApiName": "BillingType"},{"configApiName": "GYNCF_Company_Code__c","sapApiName": "CompanyCode"},{"configApiName": "GYNCF_Fiscal_Year__c","sapApiName": "FiscalYear"}]';
        Double BatchSize = 2000;
        integer Count = 1;
        Boolean doInsert = true;
        string SAPObjectName = 'SalesDocument';
        string SFDCObjectName = 'Order';
        list<GYNCO_Configuration__c> config = GYNC_TestUtility.createConfiguration(SAPObjectName, sysmId, SFDCObjectName, ServiceURL, FieldMapping, Filters, BatchSize, Count, doInsert);
        //GYNCO_Configuration__c conf = new GYNCO_Configuration__c();
        system.debug('config'+config);
        config[0].GYNCF_Create__c = true;
        //config[0].GYNCF_System_Id__c = 'a0gg00000063bqxAAA';
        config[0].GYNCF_PricebookEntry_Field_API_Name__c = 'GYNCF_PricebookEntryId__c';
        config[0].GYNCF_LineItemBodyTitle__c='SALESDOCUMENTITEMSet';
        config[0].GYNCF_DyanamicChildItemQuery__c='OrderId';
        config[0].GYNCF_LineItem_Identifier_SAP__c = 'SalesDocumentItem';
        config[0].GYNCF_LineItemApi_Name__c = 'OrderItem';
        config[0].GYNCF_SAP_API_Fields__c='Delta,MaterialNumber,Lastrundate,SalesOrganization,Description,DistributionChannel,MaterialGroup,MaterialType,DeletionIndicator,Price,Currency';
        config[0].GYNCF_Availability_Of_Objects__c = True;
        update config[0];
        system.debug('config'+config[0]);
        Account  acc = GYNC_TestUtility.createAccount(True);
        //insert contarct
        Contract con = new Contract();
        con.AccountId=acc.Id;
        con.Status='Draft';
        con.StartDate=Date.today();
        con.ContractTerm=2;
        if(UserInfo.isMultiCurrencyOrganization())con.put('CurrencyIsoCode', 'USD');
        insert con;
        //insert order 
        order ord = new order();
        ord.AccountId = acc.Id;
        ord.ContractId=con.Id;
        ord.EffectiveDate=Date.today();
        ord.Status='Draft';
        ord.Pricebook2Id = Test.getStandardPricebookId();
        insert ord;
        
        //INSERT Quote
        GYNCO_Quote__c Quo = new GYNCO_Quote__c();
        Quo.Account__c = acc.Id;
        insert Quo;
        
        //Insert Product
        Product2 Prod = GYNC_TestUtility.createProduct(true);
        
        
        //Get standard Priceook Id
        Id stdPriceBookRecId = Test.getStandardPricebookId();
        
        //insert PricebookEntry
        PricebookEntry Price =new PricebookEntry();
        Price.Pricebook2Id = stdPriceBookRecId;
        Price.Product2Id = prod.Id;
        Price.UnitPrice = 1020;
        Price.IsActive = true;
        insert Price;
        
        //insert Quote Line Item
        GYNCO_Quote_Line_Item__c QuoLine = new GYNCO_Quote_Line_Item__c();
        QuoLine.GYNCF_Quote__c = Quo.Id;
        QuoLine.GYNCF_SalesDocumentItem__c = '20000001-000010';
        QuoLine.GYNCF_PricebookEntryId__c = Price.Id;
        insert QuoLine;
        
        //insert OrderItem
        OrderItem i = new OrderItem();
        i.OrderId = ord.id;
        i.Quantity = 24;
        i.UnitPrice = 240;
        i.Product2id = Prod.id;
        i.PricebookEntryId=Price.id;
        i.GYNCF_SalesDocumentItem__c = '20000001-000010';
        
        insert i;
        
    }
    @isTest static void testMethod1() {
        user u = [select id from user where username = 'testusername@gyansys.com' limit 1];
        Order ord = [select id from Order];
        id rec = ord.Id;
        GYNCO_Configuration__c ConfigRec = [select id,Name,GYNCF_System_Id__c,GYNCF_Create__c,GYNCF_Field_Maping__c,GYNCF_SFDC_Object_Name__c,GYNCF_Service_URL__c,GYNCF_LineItemApi_Name__c,GYNCF_DyanamicChildItemQuery__c,GYNCF_LineItem_Identifier_SAP__c,GYNCF_LineItemBodyTitle__c,GYNCF_PricebookEntry_Field_API_Name__c from GYNCO_Configuration__c];
        system.debug('++++++'+ConfigRec.GYNCF_System_Id__c);
        MockHttpResponseGenerator mockClass = new MockHttpResponseGenerator();
        Test.setMock(HttpCalloutMock.class, mockClass);
        Map<String, String> apiHeader = new Map<String, String>();
        apiHeader.put('Test','Test');
        HTTPResponse apiResponse;
        System.runAs(u) {
        Test.startTest();
        GYNC_API_Dispatcher.systemId =  configRec.GYNCF_System_Id__c;
        apiResponse = GYNC_API_Dispatcher.makeCallOut('GET', 'https://www.testing.com/test',apiHeader, '');
        GYNC_SyncRecord.syncRecord(rec);
        Test.stopTest();
        System.assertEquals(200, apiResponse.getStatusCode());
        }
    }
    @isTest static void testMethod2() {
        user u = [select id from user where username = 'testusername@gyansys.com' limit 1];
        GYNCO_Quote__c Quo = [select id from GYNCO_Quote__c];
        GYNCO_Configuration__c ConfigRec = [select id,Name,GYNCF_System_Id__c,GYNCF_Create__c,GYNCF_Field_Maping__c,GYNCF_SFDC_Object_Name__c,GYNCF_Service_URL__c,GYNCF_LineItemApi_Name__c,GYNCF_DyanamicChildItemQuery__c,GYNCF_LineItem_Identifier_SAP__c,GYNCF_LineItemBodyTitle__c,GYNCF_PricebookEntry_Field_API_Name__c from GYNCO_Configuration__c];
        ConfigRec.Name='Quotation';
        ConfigRec.GYNCF_SFDC_Object_Name__c='GYNCO_Quote__c';
        
        ConfigRec.GYNCF_DyanamicChildItemQuery__c='GYNCF_Quote__c';
        String mappingField = '';
        if(UserInfo.isMultiCurrencyOrganization()) {
            mappingField ='[{"sapField":"Category","SFDCField":"{\\"sfdcFieldType\\":\\"STRING\\",\\"relatedTo\\":\\"Account\\",\\"fieldValue\\":\\"GYNCF_Category__c\\"}"},{"sapField":"ShipTo","SFDCField":"{\\"sfdcFieldType\\":\\"STRING\\",\\"relatedTo\\":\\"Contract\\",\\"fieldValue\\":\\"GYNCF_ShipTo__c\\"}"},{"sapField":"ShipToName","SFDCField":"{\\"sfdcFieldType\\":\\"STRING\\",\\"relatedTo\\":\\"Contract\\",\\"fieldValue\\":\\"GYNCF_ShipToName__c\\"}"},{"sapField":"BillTo","SFDCField":"{\\"sfdcFieldType\\":\\"STRING\\",\\"relatedTo\\":\\"Account\\",\\"fieldValue\\":\\"GYNCF_Bill_To__c\\"}"},{"sapField":"BillToName","SFDCField":"{\\"sfdcFieldType\\":\\"STRING\\",\\"relatedTo\\":\\"Account\\",\\"fieldValue\\":\\"GYNCF_Bill_To_Name__c\\"}"},{"sapField":"DocumentType","SFDCField":"{\\"sfdcFieldType\\":\\"STRING\\",\\"relatedTo\\":\\"Contract\\",\\"fieldValue\\":\\"GYNCF_DocumentType__c\\"}"},{"sapField":"BillingStatus","SFDCField":"{\\"sfdcFieldType\\":\\"STRING\\",\\"relatedTo\\":\\"Account\\",\\"fieldValue\\":\\"GYNCF_BillingStatus__c\\"}"},{"sapField":"DeliveryStatus","SFDCField":"{\\"sfdcFieldType\\":\\"STRING\\",\\"relatedTo\\":\\"Contract\\",\\"fieldValue\\":\\"GYNCF_DeliveryStatus__c\\"}"},{"sapField":"DocumentStatus","SFDCField":"{\\"sfdcFieldType\\":\\"STRING\\",\\"relatedTo\\":\\"Contract\\",\\"fieldValue\\":\\"GYNCF_Document_Status__c\\"}"},{"sapField":"SalesDocument","SFDCField":"{\\"sfdcFieldType\\":\\"STRING\\",\\"relatedTo\\":\\"User\\",\\"fieldValue\\":\\"Name\\"}"},{"sapField":"ReferenceDocument","SFDCField":"{\\"sfdcFieldType\\":\\"STRING\\",\\"relatedTo\\":\\"Contract\\",\\"fieldValue\\":\\"GYNCF_ReferenceDocument__c\\"}"},{"sapField":"RequestedDeliveryDate","SFDCField":"{\\"sfdcFieldType\\":\\"DATE\\",\\"relatedTo\\":\\"Contract\\",\\"fieldValue\\":\\"GYNCF_RequestedDeliveryDate__c\\"}"},{"sapField":"PaymentTerms","SFDCField":"{\\"sfdcFieldType\\":\\"STRING\\",\\"relatedTo\\":\\"Contract\\",\\"fieldValue\\":\\"GYNCF_PaymentTerms__c\\"}"},{"sapField":"SalesOrganization","SFDCField":"{\\"sfdcFieldType\\":\\"STRING\\",\\"relatedTo\\":\\"Contract\\",\\"fieldValue\\":\\"GYNCF_SalesOrganization__c\\"}"},{"sapField":"DistributionChannel","SFDCField":"{\\"sfdcFieldType\\":\\"STRING\\",\\"relatedTo\\":\\"User\\",\\"fieldValue\\":\\"GYNCF_Distribution_Channel__c\\"}"},{"sapField":"Division","SFDCField":"{\\"sfdcFieldType\\":\\"STRING\\",\\"relatedTo\\":\\"User\\",\\"fieldValue\\":\\"GYNCF_Division__c\\"}"},{"sapField":"Currency","SFDCField":"{\\"sfdcFieldType\\":\\"PICKLIST\\",\\"relatedTo\\":\\"User\\",\\"fieldValue\\":\\"CurrencyIsoCode\\"}"},{"sapField":"TotalTax","SFDCField":"{\\"sfdcFieldType\\":\\"DOUBLE\\",\\"relatedTo\\":\\"Contract\\",\\"fieldValue\\":\\"GYNCF_TotalTax__c\\"}"},{"sapField":"TotalFreight","SFDCField":"{\\"sfdcFieldType\\":\\"DOUBLE\\",\\"relatedTo\\":\\"Contract\\",\\"fieldValue\\":\\"GYNCF_TotalFreight__c\\"}"},{"sapField":"MaterialDescription","SFDCField":"{\\"sfdcFieldType\\":\\"STRING\\",\\"relatedTo\\":\\"User\\",\\"fieldValue\\":\\"GYNCO_Quote_Line_Item__c.GYNCF_Line_Item_Description__c\\"}"},{"sapField":"CreationDate","SFDCField":"{\\"sfdcFieldType\\":\\"DATE\\",\\"relatedTo\\":\\"Contract\\",\\"fieldValue\\":\\"GYNCF_SAP_CreationDate__c\\"}"},{"sapField":"SalesDocumentItem","SFDCField":"{\\"sfdcFieldType\\":\\"STRING\\",\\"relatedTo\\":\\"Quote\\",\\"fieldValue\\":\\"GYNCO_Quote_Line_Item__c.GYNCF_SalesDocumentItem__c\\"}"},{"sapField":"StorageLocation","SFDCField":"{\\"sfdcFieldType\\":\\"STRING\\",\\"relatedTo\\":\\"Quote\\",\\"fieldValue\\":\\"GYNCO_Quote_Line_Item__c.GYNCF_Storage_Location__c\\"}"},{"sapField":"Material","SFDCField":"{\\"sfdcFieldType\\":\\"STRING\\",\\"relatedTo\\":\\"Quote\\",\\"fieldValue\\":\\"GYNCO_Quote_Line_Item__c.GYNCF_PricebookEntryId__c\\"}"},{"sapField":"OrderQuantity","SFDCField":"{\\"sfdcFieldType\\":\\"DOUBLE\\",\\"relatedTo\\":\\"Product2\\",\\"fieldValue\\":\\"GYNCO_Quote_Line_Item__c.GYNCF_Quantity__c\\"}"},{"sapField":"ItemCost","SFDCField":"{\\"sfdcFieldType\\":\\"DOUBLE\\",\\"relatedTo\\":\\"User\\",\\"fieldValue\\":\\"GYNCO_Quote_Line_Item__c.GYNCF_ItemCost__c\\"}"},{"sapField":"Channel","SFDCField":"{\\"sfdcFieldType\\":\\"STRING\\",\\"relatedTo\\":\\"Account\\",\\"fieldValue\\":\\"GYNCF_Channel__c\\"}"},{"sapField":"UnitOfMeasure","SFDCField":"{\\"sfdcFieldType\\":\\"STRING\\",\\"relatedTo\\":\\"Quote\\",\\"fieldValue\\":\\"GYNCO_Quote_Line_Item__c.GYNCF_UnitOfMeasure__c\\"}"},{"sapField":"CustomerMaterial","SFDCField":"{\\"sfdcFieldType\\":\\"STRING\\",\\"relatedTo\\":\\"User\\",\\"fieldValue\\":\\"GYNCO_Quote_Line_Item__c.GYNCF_Customer_Material__c\\"}"},{"sapField":"ItemTax","SFDCField":"{\\"sfdcFieldType\\":\\"DOUBLE\\",\\"relatedTo\\":\\"User\\",\\"fieldValue\\":\\"GYNCO_Quote_Line_Item__c.GYNCF_ItemTax__c\\"}"},{"sapField":"ItemFreight","SFDCField":"{\\"sfdcFieldType\\":\\"DOUBLE\\",\\"relatedTo\\":\\"User\\",\\"fieldValue\\":\\"GYNCO_Quote_Line_Item__c.GYNCF_ItemFreight__c\\"}"},{"sapField":"SoldTo","SFDCField":"{\\"sfdcFieldType\\":\\"REFERENCE\\",\\"relatedTo\\":\\"Account\\",\\"fieldValue\\":\\"Account__c\\"}"}]';
        }
        else {
            mappingField ='[{"sapField":"Category","SFDCField":"{\\"sfdcFieldType\\":\\"STRING\\",\\"relatedTo\\":\\"Account\\",\\"fieldValue\\":\\"GYNCF_Category__c\\"}"},{"sapField":"ShipTo","SFDCField":"{\\"sfdcFieldType\\":\\"STRING\\",\\"relatedTo\\":\\"Contract\\",\\"fieldValue\\":\\"GYNCF_ShipTo__c\\"}"},{"sapField":"ShipToName","SFDCField":"{\\"sfdcFieldType\\":\\"STRING\\",\\"relatedTo\\":\\"Contract\\",\\"fieldValue\\":\\"GYNCF_ShipToName__c\\"}"},{"sapField":"BillTo","SFDCField":"{\\"sfdcFieldType\\":\\"STRING\\",\\"relatedTo\\":\\"Account\\",\\"fieldValue\\":\\"GYNCF_Bill_To__c\\"}"},{"sapField":"BillToName","SFDCField":"{\\"sfdcFieldType\\":\\"STRING\\",\\"relatedTo\\":\\"Account\\",\\"fieldValue\\":\\"GYNCF_Bill_To_Name__c\\"}"},{"sapField":"DocumentType","SFDCField":"{\\"sfdcFieldType\\":\\"STRING\\",\\"relatedTo\\":\\"Contract\\",\\"fieldValue\\":\\"GYNCF_DocumentType__c\\"}"},{"sapField":"BillingStatus","SFDCField":"{\\"sfdcFieldType\\":\\"STRING\\",\\"relatedTo\\":\\"Account\\",\\"fieldValue\\":\\"GYNCF_BillingStatus__c\\"}"},{"sapField":"DeliveryStatus","SFDCField":"{\\"sfdcFieldType\\":\\"STRING\\",\\"relatedTo\\":\\"Contract\\",\\"fieldValue\\":\\"GYNCF_DeliveryStatus__c\\"}"},{"sapField":"DocumentStatus","SFDCField":"{\\"sfdcFieldType\\":\\"STRING\\",\\"relatedTo\\":\\"Contract\\",\\"fieldValue\\":\\"GYNCF_Document_Status__c\\"}"},{"sapField":"SalesDocument","SFDCField":"{\\"sfdcFieldType\\":\\"STRING\\",\\"relatedTo\\":\\"User\\",\\"fieldValue\\":\\"Name\\"}"},{"sapField":"ReferenceDocument","SFDCField":"{\\"sfdcFieldType\\":\\"STRING\\",\\"relatedTo\\":\\"Contract\\",\\"fieldValue\\":\\"GYNCF_ReferenceDocument__c\\"}"},{"sapField":"RequestedDeliveryDate","SFDCField":"{\\"sfdcFieldType\\":\\"DATE\\",\\"relatedTo\\":\\"Contract\\",\\"fieldValue\\":\\"GYNCF_RequestedDeliveryDate__c\\"}"},{"sapField":"PaymentTerms","SFDCField":"{\\"sfdcFieldType\\":\\"STRING\\",\\"relatedTo\\":\\"Contract\\",\\"fieldValue\\":\\"GYNCF_PaymentTerms__c\\"}"},{"sapField":"SalesOrganization","SFDCField":"{\\"sfdcFieldType\\":\\"STRING\\",\\"relatedTo\\":\\"Contract\\",\\"fieldValue\\":\\"GYNCF_SalesOrganization__c\\"}"},{"sapField":"DistributionChannel","SFDCField":"{\\"sfdcFieldType\\":\\"STRING\\",\\"relatedTo\\":\\"User\\",\\"fieldValue\\":\\"GYNCF_Distribution_Channel__c\\"}"},{"sapField":"Division","SFDCField":"{\\"sfdcFieldType\\":\\"STRING\\",\\"relatedTo\\":\\"User\\",\\"fieldValue\\":\\"GYNCF_Division__c\\"}"},{"sapField":"TotalTax","SFDCField":"{\\"sfdcFieldType\\":\\"DOUBLE\\",\\"relatedTo\\":\\"Contract\\",\\"fieldValue\\":\\"GYNCF_TotalTax__c\\"}"},{"sapField":"TotalFreight","SFDCField":"{\\"sfdcFieldType\\":\\"DOUBLE\\",\\"relatedTo\\":\\"Contract\\",\\"fieldValue\\":\\"GYNCF_TotalFreight__c\\"}"},{"sapField":"MaterialDescription","SFDCField":"{\\"sfdcFieldType\\":\\"STRING\\",\\"relatedTo\\":\\"User\\",\\"fieldValue\\":\\"GYNCO_Quote_Line_Item__c.GYNCF_Line_Item_Description__c\\"}"},{"sapField":"CreationDate","SFDCField":"{\\"sfdcFieldType\\":\\"DATE\\",\\"relatedTo\\":\\"Contract\\",\\"fieldValue\\":\\"GYNCF_SAP_CreationDate__c\\"}"},{"sapField":"SalesDocumentItem","SFDCField":"{\\"sfdcFieldType\\":\\"STRING\\",\\"relatedTo\\":\\"Quote\\",\\"fieldValue\\":\\"GYNCO_Quote_Line_Item__c.GYNCF_SalesDocumentItem__c\\"}"},{"sapField":"StorageLocation","SFDCField":"{\\"sfdcFieldType\\":\\"STRING\\",\\"relatedTo\\":\\"Quote\\",\\"fieldValue\\":\\"GYNCO_Quote_Line_Item__c.GYNCF_Storage_Location__c\\"}"},{"sapField":"Material","SFDCField":"{\\"sfdcFieldType\\":\\"STRING\\",\\"relatedTo\\":\\"Quote\\",\\"fieldValue\\":\\"GYNCO_Quote_Line_Item__c.GYNCF_PricebookEntryId__c\\"}"},{"sapField":"OrderQuantity","SFDCField":"{\\"sfdcFieldType\\":\\"DOUBLE\\",\\"relatedTo\\":\\"Product2\\",\\"fieldValue\\":\\"GYNCO_Quote_Line_Item__c.GYNCF_Quantity__c\\"}"},{"sapField":"ItemCost","SFDCField":"{\\"sfdcFieldType\\":\\"DOUBLE\\",\\"relatedTo\\":\\"User\\",\\"fieldValue\\":\\"GYNCO_Quote_Line_Item__c.GYNCF_ItemCost__c\\"}"},{"sapField":"Channel","SFDCField":"{\\"sfdcFieldType\\":\\"STRING\\",\\"relatedTo\\":\\"Account\\",\\"fieldValue\\":\\"GYNCF_Channel__c\\"}"},{"sapField":"UnitOfMeasure","SFDCField":"{\\"sfdcFieldType\\":\\"STRING\\",\\"relatedTo\\":\\"Quote\\",\\"fieldValue\\":\\"GYNCO_Quote_Line_Item__c.GYNCF_UnitOfMeasure__c\\"}"},{"sapField":"CustomerMaterial","SFDCField":"{\\"sfdcFieldType\\":\\"STRING\\",\\"relatedTo\\":\\"User\\",\\"fieldValue\\":\\"GYNCO_Quote_Line_Item__c.GYNCF_Customer_Material__c\\"}"},{"sapField":"ItemTax","SFDCField":"{\\"sfdcFieldType\\":\\"DOUBLE\\",\\"relatedTo\\":\\"User\\",\\"fieldValue\\":\\"GYNCO_Quote_Line_Item__c.GYNCF_ItemTax__c\\"}"},{"sapField":"ItemFreight","SFDCField":"{\\"sfdcFieldType\\":\\"DOUBLE\\",\\"relatedTo\\":\\"User\\",\\"fieldValue\\":\\"GYNCO_Quote_Line_Item__c.GYNCF_ItemFreight__c\\"}"},{"sapField":"SoldTo","SFDCField":"{\\"sfdcFieldType\\":\\"REFERENCE\\",\\"relatedTo\\":\\"Account\\",\\"fieldValue\\":\\"Account__c\\"}"}]';
        }
        ConfigRec.GYNCF_Field_Maping__c =mappingField;
        ConfigRec.GYNCF_LineItemApi_Name__c = 'GYNCO_Quote_Line_Item__c';
        Update ConfigRec;
        MockHttpResponseGenerator mockClass = new MockHttpResponseGenerator();
        Test.setMock(HttpCalloutMock.class, mockClass);
        Map<String, String> apiHeader = new Map<String, String>();
        apiHeader.put('Test','Test');
        HTTPResponse apiResponse;
        System.runAs(u) {
        Test.startTest();
        GYNC_API_Dispatcher.systemId =  configRec.GYNCF_System_Id__c;
        apiResponse = GYNC_API_Dispatcher.makeCallOut('GET', 'https://www.testing.com/test',apiHeader, '');
        GYNC_SyncRecord.syncRecord(Quo.Id);
        Test.stopTest();
        System.assertEquals(200, apiResponse.getStatusCode());
        }
    }
}